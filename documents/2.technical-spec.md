
# 🛠️ ilmBot Technical Specification

---

## 🎯 Overview

This document outlines the technical architecture and design decisions for `ilmBot`, an AI-powered REST API designed to help students in Pakistan learn and write English more effectively. The MVP includes **text summarisation** and **sentence completion** features.

ilmBot is built with long-term extensibility in mind — not only for education but also for multi-lingual, real-world communication, grounded in regional needs.

---

## ⚙️ AI Framework & Model Selection

### 🔗 Frameworks
- **LangChain**: Used to orchestrate chains, manage prompts, and handle complex NLP workflows. It provides modularity and room to grow the feature set.
- **OpenRouter**: A gateway to multiple LLM providers (OpenAI, Anthropic, Mistral, Google, etc.), offering flexibility in switching or tuning models.

This combination allows ilmBot to remain model-agnostic and optimize task-specific performance while keeping costs and response quality in check.

### 🧠 Model Selection

Models considered: `GPT-4`, `Claude 3`, `Gemini 1.5`, `Mixtral`, `Mistral`.

- **Text Completion** → **GPT-4**: Strong performance in generating coherent and context-aware text.
- **Summarisation** → **Claude 3**: Chosen for a balance between performance and cost.

> For example GPT-4 is also recognized for summarisation strength ([EMNLP 2023 Paper](https://aclanthology.org/2023.findings-emnlp.536.pdf)), and configurations allow switching if needed as per need.

Each endpoint is **configurable** to use specific models and settings — this provides fine-tuned control over costs and quality.

---

## 📌 API Design

### ✳️ Design Principles

- **Clear Separation of Concerns**  
- **Scalability & Maintainability**  
- **Model-specific Optimization**  
- **Observability (logs, monitoring, analytics)**

### 📍 Endpoints

#### `POST /api/v1/summarize`
- Input: Educational text up to 1500 words
- Output: Summarized version
- Default Model: gpt-3.5-turbo (since it allows more free usage)

```json
Request: application/json
{
  "text": "Input paragraph to summarize"
}
Response: text/event-stream
{
  "Shortened and concise output"
}
```

#### `POST /api/v1/text-complete`
- Input: Start of a sentence
- Output: Completed continuation
- Default Model: gpt-3.5-turbo (since it allows more free usage)

```json
Request: application/json
{
  "prompt": "Education is the key to"
}
Response: text/event-stream
{
  "Education is the key to unlocking human potential and creating a better future."
}
```

> Each endpoint can be **individually configured** to switch models or prompt templates.

---

## 🧪 Backend Architecture

### Backend Framework
- **FastAPI**: Chosen for its simplicity, performance, and support for async I/O—ideal for LLM calls and external API interactions.

### Request-Response Cycle
- Input size limited to **1500 words**
- **Streaming responses** to improve UX and responsiveness
- **Future-ready architecture**:
  - Large inputs handled asynchronously via **Celery + Redis**
  - Add `GET /results/{job_id}` for long-running tasks

---

## 🔐 Authentication & Rate Limiting

- **Authentication**: Optional for MVP, can be extended with API keys or OAuth
- **Rate Limiting**: Throttle per IP/user to prevent abuse using Redis or middleware

---

## 🔄 Model Switching Capability

- Modular model routing based on task type
- Built-in support to switch between GPT-4, Claude, Gemini, etc.
- Configurations allow tuning of:
  - Temperature
  - Prompt templates

---

## 🧪 Testing Strategy

- **Pytest** will be used for endpoint testing
- **LLM responses will be mocked** for reliable, fast unit tests
- Coverage will include valid inputs, streaming, invalid formats, and edge cases

---

## 🚀 Deployment Strategy

- Packaged in a **Docker container**
- Can be deployed to:
  - **AWS ECS**
  - Any container-ready PaaS
- Stateless service → horizontal scaling ready

---

## 🧭 Future Considerations

- Support **transliterated input** (Roman Urdu/Sindhi)
- Add **user-specific context** and adaptive learning support
- Logging and analytics dashboard
- Curriculum-aligned prompt templates (for school use)
